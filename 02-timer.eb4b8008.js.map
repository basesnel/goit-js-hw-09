{"mappings":"AACA,MAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,oBAC/BC,MAAOF,SAASC,cAAc,gBAC9BE,KAAMH,SAASC,cAAc,eAC7BG,MAAOJ,SAASC,cAAc,gBAC9BI,KAAML,SAASC,cAAc,kBAC7BK,KAAMN,SAASC,cAAc,mBAI/B,IAAIM,EAAa,KACbC,EAAY,KAGhB,MAAMC,EAAQT,SAASU,cAAc,KAI/BC,EAAQ,CACZC,WAAY,KACZC,UAAU,EAEVX,QACMY,KAAKD,WACTC,KAAKD,UAAW,EAEhBC,KAAKF,WAAaG,aAAY,KAC5B,MAAMC,EAAcC,KAAKC,MAEzBC,EAAqBC,EADHb,EAAaS,GACmB,GACjD,K,EAGLK,OACEF,EAAqBC,EAAkB,IACvCE,cAAcR,KAAKF,YACnBE,KAAKD,UAAW,C,GAqBpB,SAASU,IACPd,EAAMe,UAAUC,IAAI,Y,CAItB,SAASC,IACPH,IACIf,GAAWmB,aAAanB,E,CAuB9B,SAASY,EAAkBQ,GAQzB,MAAO,C,KAPMC,EAAIC,KAAKC,MAAMH,EAAQ,Q,MACtBC,EACZC,KAAKC,MAAMH,EAAS,MAAyB,O,KAElCC,EAAIC,KAAKC,MAAMH,EAAS,KAAoB,M,KAC5CC,EAAIC,KAAKC,MAAMH,EAAS,IAAc,M,CAKrD,SAASC,EAAIG,GACX,OAAOC,OAAOD,GAAOE,SAAS,EAAG,I,CAInC,SAASf,GAAqBhB,KAAEA,EAAIC,MAAEA,EAAKC,KAAEA,EAAIC,KAAEA,IACjDR,EAAKK,KAAKgC,YAAc,GAAGhC,IAC3BL,EAAKM,MAAM+B,YAAc,GAAG/B,IAC5BN,EAAKO,KAAK8B,YAAc,GAAG9B,IAC3BP,EAAKQ,KAAK6B,YAAc,GAAG7B,G,CAlE7BN,SAASoC,KAAKC,OAAO5B,GACrBA,EAAM0B,YAAc,qCACpB1B,EAAMe,UAAUC,IAAI,QAAS,aAC7BhB,EAAM6B,iBAAiB,QAASZ,GAGhC5B,EAAKC,OAAOwC,KAAO,iBACnBzC,EAAKC,OAAOyB,UAAUC,IAAI,cAC1B3B,EAAKC,OAAOuC,iBAAiB,UAmB7B,WACE3B,EAAMU,OACN,MAAMmB,EAAUvB,KAAKC,MAGrB,GAFAX,EAAa,IAAIU,KAAKH,KAAKkB,OAAOS,UAE9BD,EAAUjC,EAGZ,OAFAT,EAAKI,MAAMwC,UAAW,OACtBhB,IAIF5B,EAAKI,MAAMwC,UAAW,EACtBjC,EAAMe,UAAUmB,OAAO,aACvBnC,EAAYoC,YAAW,KACrBrB,GAAW,GAnEK,I,IAqCpBzB,EAAKI,MAAMwC,UAAW,EACtB5C,EAAKI,MAAMsB,UAAUC,IAAI,YACzB3B,EAAKI,MAAMoC,iBAAiB,QAAS3B,EAAMT,MAAM2C,KAAKlC","sources":["src/js/02-timer.js"],"sourcesContent":["// Interface elements.\nconst refs = {\n  picker: document.querySelector('#datetime-picker'),\n  start: document.querySelector('[data-start]'),\n  days: document.querySelector('[data-days]'),\n  hours: document.querySelector('[data-hours]'),\n  mins: document.querySelector('[data-minutes]'),\n  secs: document.querySelector('[data-seconds]'),\n};\n\n// PickerDate times.\nlet pickerTime = null;\nlet timeoutId = null;\n\n// Alert constants.\nconst alert = document.createElement('p');\nconst ALERT_DELAY = 3000;\n\n// Timer object.\nconst timer = {\n  intervalId: null,\n  isActive: false,\n\n  start() {\n    if (this.isActive) return;\n    this.isActive = true;\n\n    this.intervalId = setInterval(() => {\n      const currentTime = Date.now();\n      const deltaTime = pickerTime - currentTime;\n      updateTimerInterface(getTimeComponents(deltaTime));\n    }, 1000);\n  },\n\n  stop() {\n    updateTimerInterface(getTimeComponents(0));\n    clearInterval(this.intervalId);\n    this.isActive = false;\n  },\n};\n\n// Alert create, stylization and event-generation.\ndocument.body.append(alert);\nalert.textContent = 'Please choose a date in the future';\nalert.classList.add('alert', 'js-hidden');\nalert.addEventListener('click', onHideAlert);\n\n// Input stylization.\nrefs.picker.type = 'datetime-local';\nrefs.picker.classList.add('timepicker');\nrefs.picker.addEventListener('change', checkDate);\n\n// Button stylization.\nrefs.start.disabled = true;\nrefs.start.classList.add('startbtn');\nrefs.start.addEventListener('click', timer.start.bind(timer));\n\n// Alert hide onclick-event.\nfunction hideAlert() {\n  alert.classList.add('js-hidden');\n}\n\n// Alert setTimeout hide.\nfunction onHideAlert() {\n  hideAlert();\n  if (timeoutId) clearTimeout(timeoutId);\n}\n\n// Check datepicker for future.\nfunction checkDate() {\n  timer.stop();\n  const nowTime = Date.now();\n  pickerTime = new Date(this.value).getTime();\n\n  if (nowTime < pickerTime) {\n    refs.start.disabled = false;\n    onHideAlert();\n    return;\n  }\n\n  refs.start.disabled = true;\n  alert.classList.remove('js-hidden');\n  timeoutId = setTimeout(() => {\n    hideAlert();\n  }, ALERT_DELAY);\n}\n\n// Get time components functions.\nfunction getTimeComponents(time) {\n  const days = pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n  const hours = pad(\n    Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n  );\n  const mins = pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n  const secs = pad(Math.floor((time % (1000 * 60)) / 1000));\n\n  return { days, hours, mins, secs };\n}\n\nfunction pad(value) {\n  return String(value).padStart(2, '0');\n}\n\n// Set time components on web-page.\nfunction updateTimerInterface({ days, hours, mins, secs }) {\n  refs.days.textContent = `${days}`;\n  refs.hours.textContent = `${hours}`;\n  refs.mins.textContent = `${mins}`;\n  refs.secs.textContent = `${secs}`;\n}\n\n// Examples on getUTC times.\n\n// console.log(\n//   `${pad(new Date(deltaTime).getUTCHours())}:${pad(\n//     new Date(deltaTime).getUTCMinutes()\n//   )}:${pad(new Date(deltaTime).getUTCSeconds())}`\n// );\n// console.log(new Date(deltaTime).getUTCMinutes());\n// console.log(new Date(deltaTime).getUTCSeconds());\n"],"names":["$40d383fb392a7037$var$refs","picker","document","querySelector","start","days","hours","mins","secs","$40d383fb392a7037$var$pickerTime","$40d383fb392a7037$var$timeoutId","$40d383fb392a7037$var$alert","createElement","$40d383fb392a7037$var$timer","intervalId","isActive","this","setInterval","currentTime","Date","now","$40d383fb392a7037$var$updateTimerInterface","$40d383fb392a7037$var$getTimeComponents","stop","clearInterval","$40d383fb392a7037$var$hideAlert","classList","add","$40d383fb392a7037$var$onHideAlert","clearTimeout","time","$40d383fb392a7037$var$pad","Math","floor","value","String","padStart","textContent","body","append","addEventListener","type","nowTime","getTime","disabled","remove","setTimeout","bind"],"version":3,"file":"02-timer.eb4b8008.js.map"}