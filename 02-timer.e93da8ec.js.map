{"mappings":"YACA,IAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,oBAC/BC,MAAOF,SAASC,cAAc,gBAC9BE,KAAMH,SAASC,cAAc,eAC7BG,MAAOJ,SAASC,cAAc,gBAC9BI,KAAML,SAASC,cAAc,kBAC7BK,KAAMN,SAASC,cAAc,mBAI3BM,EAAa,KACbC,EAAY,KAGVC,EAAQT,SAASU,cAAc,KAI/BC,EAAQ,CACZC,WAAY,KACZC,UAAU,EAEVX,MAAA,WACMY,KAAKD,WACTC,KAAKD,UAAW,EAEhBC,KAAKF,WAAaG,aAAY,WAC5B,IAAMC,EAAcC,KAAKC,MAEzBC,EAAqBC,EADHb,EAAaS,G,GAE9B,K,EAGLK,KAAA,WACEF,EAAqBC,EAAkB,IACvCE,cAAcR,KAAKF,YACnBE,KAAKD,UAAW,C,GAqBpB,SAASU,IACPd,EAAMe,UAAUC,IAAI,Y,CAItB,SAASC,IACPH,IACIf,GAAWmB,aAAanB,E,CAuB9B,SAASY,EAAkBQ,GAQzB,MAAO,CAAEzB,KAPI0B,EAAIC,KAAKC,MAAMH,EAAQ,QAOrBxB,MANDyB,EACZC,KAAKC,MAAMH,EAAS,MAAyB,OAKzBvB,KAHTwB,EAAIC,KAAKC,MAAMH,EAAS,KAAoB,MAG7BtB,KAFfuB,EAAIC,KAAKC,MAAMH,EAAS,IAAc,M,CAKrD,SAASC,EAAIG,GACX,OAAOC,OAAOD,GAAOE,SAAS,EAAG,I,CAInC,SAASf,EAAqBgB,G,IAAEhC,EAAFgC,EAAEhC,KAAMC,EAAR+B,EAAQ/B,MAAOC,EAAf8B,EAAe9B,KAAMC,EAArB6B,EAAqB7B,KACjDR,EAAKK,KAAKiC,YAAc,GAAQC,OAALlC,GAC3BL,EAAKM,MAAMgC,YAAc,GAASC,OAANjC,GAC5BN,EAAKO,KAAK+B,YAAc,GAAQC,OAALhC,GAC3BP,EAAKQ,KAAK8B,YAAc,GAAQC,OAAL/B,E,CAlE7BN,SAASsC,KAAKC,OAAO9B,GACrBA,EAAM2B,YAAc,qCACpB3B,EAAMe,UAAUC,IAAI,QAAS,aAC7BhB,EAAM+B,iBAAiB,QAASd,GAGhC5B,EAAKC,OAAO0C,KAAO,iBACnB3C,EAAKC,OAAOyB,UAAUC,IAAI,cAC1B3B,EAAKC,OAAOyC,iBAAiB,UAmB7B,WACE7B,EAAMU,OACN,IAAMqB,EAAUzB,KAAKC,MAGrB,GAFAX,EAAa,IAAIU,KAAKH,KAAKkB,OAAOW,UAE9BD,EAAUnC,EAGZ,OAFAT,EAAKI,MAAM0C,UAAW,OACtBlB,IAIF5B,EAAKI,MAAM0C,UAAW,EACtBnC,EAAMe,UAAUqB,OAAO,aACvBrC,EAAYsC,YAAW,WACrBvB,G,GAnEgB,I,IAqCpBzB,EAAKI,MAAM0C,UAAW,EACtB9C,EAAKI,MAAMsB,UAAUC,IAAI,YACzB3B,EAAKI,MAAMsC,iBAAiB,QAAS7B,EAAMT,MAAM6C,KAAKpC,G","sources":["src/js/02-timer.js"],"sourcesContent":["// Interface elements.\nconst refs = {\n  picker: document.querySelector('#datetime-picker'),\n  start: document.querySelector('[data-start]'),\n  days: document.querySelector('[data-days]'),\n  hours: document.querySelector('[data-hours]'),\n  mins: document.querySelector('[data-minutes]'),\n  secs: document.querySelector('[data-seconds]'),\n};\n\n// PickerDate times.\nlet pickerTime = null;\nlet timeoutId = null;\n\n// Alert constants.\nconst alert = document.createElement('p');\nconst ALERT_DELAY = 3000;\n\n// Timer object.\nconst timer = {\n  intervalId: null,\n  isActive: false,\n\n  start() {\n    if (this.isActive) return;\n    this.isActive = true;\n\n    this.intervalId = setInterval(() => {\n      const currentTime = Date.now();\n      const deltaTime = pickerTime - currentTime;\n      updateTimerInterface(getTimeComponents(deltaTime));\n    }, 1000);\n  },\n\n  stop() {\n    updateTimerInterface(getTimeComponents(0));\n    clearInterval(this.intervalId);\n    this.isActive = false;\n  },\n};\n\n// Alert create, stylization and event-generation.\ndocument.body.append(alert);\nalert.textContent = 'Please choose a date in the future';\nalert.classList.add('alert', 'js-hidden');\nalert.addEventListener('click', onHideAlert);\n\n// Input stylization.\nrefs.picker.type = 'datetime-local';\nrefs.picker.classList.add('timepicker');\nrefs.picker.addEventListener('change', checkDate);\n\n// Button stylization.\nrefs.start.disabled = true;\nrefs.start.classList.add('startbtn');\nrefs.start.addEventListener('click', timer.start.bind(timer));\n\n// Alert hide onclick-event.\nfunction hideAlert() {\n  alert.classList.add('js-hidden');\n}\n\n// Alert setTimeout hide.\nfunction onHideAlert() {\n  hideAlert();\n  if (timeoutId) clearTimeout(timeoutId);\n}\n\n// Check datepicker for future.\nfunction checkDate() {\n  timer.stop();\n  const nowTime = Date.now();\n  pickerTime = new Date(this.value).getTime();\n\n  if (nowTime < pickerTime) {\n    refs.start.disabled = false;\n    onHideAlert();\n    return;\n  }\n\n  refs.start.disabled = true;\n  alert.classList.remove('js-hidden');\n  timeoutId = setTimeout(() => {\n    hideAlert();\n  }, ALERT_DELAY);\n}\n\n// Get time components functions.\nfunction getTimeComponents(time) {\n  const days = pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n  const hours = pad(\n    Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n  );\n  const mins = pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n  const secs = pad(Math.floor((time % (1000 * 60)) / 1000));\n\n  return { days, hours, mins, secs };\n}\n\nfunction pad(value) {\n  return String(value).padStart(2, '0');\n}\n\n// Set time components on web-page.\nfunction updateTimerInterface({ days, hours, mins, secs }) {\n  refs.days.textContent = `${days}`;\n  refs.hours.textContent = `${hours}`;\n  refs.mins.textContent = `${mins}`;\n  refs.secs.textContent = `${secs}`;\n}\n\n// Examples on getUTC times.\n\n// console.log(\n//   `${pad(new Date(deltaTime).getUTCHours())}:${pad(\n//     new Date(deltaTime).getUTCMinutes()\n//   )}:${pad(new Date(deltaTime).getUTCSeconds())}`\n// );\n// console.log(new Date(deltaTime).getUTCMinutes());\n// console.log(new Date(deltaTime).getUTCSeconds());\n"],"names":["$84b9dae4df53835d$var$refs","picker","document","querySelector","start","days","hours","mins","secs","$84b9dae4df53835d$var$pickerTime","$84b9dae4df53835d$var$timeoutId","$84b9dae4df53835d$var$alert","createElement","$84b9dae4df53835d$var$timer","intervalId","isActive","this","setInterval","currentTime","Date","now","$84b9dae4df53835d$var$updateTimerInterface","$84b9dae4df53835d$var$getTimeComponents","stop","clearInterval","$84b9dae4df53835d$var$hideAlert","classList","add","$84b9dae4df53835d$var$onHideAlert","clearTimeout","time","$84b9dae4df53835d$var$pad","Math","floor","value","String","padStart","param","textContent","concat","body","append","addEventListener","type","nowTime","getTime","disabled","remove","setTimeout","bind"],"version":3,"file":"02-timer.e93da8ec.js.map"}